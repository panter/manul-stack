# Migration `20200813145412-make-blog-post-content-optional`

This migration has been generated by Marco Wettstein at 8/13/2020, 4:54:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "new_BlogPost" (
"id" TEXT NOT NULL,
"title" TEXT NOT NULL,
"content" TEXT ,
"authorId" TEXT NOT NULL,
"published" BOOLEAN NOT NULL DEFAULT false,
PRIMARY KEY ("id"),
FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

INSERT INTO "new_BlogPost" ("id", "title", "content", "authorId", "published") SELECT "id", "title", "content", "authorId", "published" FROM "BlogPost"

PRAGMA foreign_keys=off;
DROP TABLE "BlogPost";;
PRAGMA foreign_keys=on

ALTER TABLE "new_BlogPost" RENAME TO "BlogPost";

PRAGMA foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200813141606-initial..20200813145412-make-blog-post-content-optional
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "sqlite"
-    url = "***"
+    url = "***"
 }
 generator prisma_client {
     provider = "prisma-client-js"
@@ -9,9 +9,9 @@
 model BlogPost {
     id        String  @default(uuid()) @id
     title     String
-    content   String
+    content   String?
     author    User    @relation(fields: [authorId], references: [id])
     authorId  String
     published Boolean @default(false)
 }
```


